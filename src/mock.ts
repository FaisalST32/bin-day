import { CollectionType } from './types/collection.types';

export const pageContents: string =
	'July 2023 Collections  •   4th July: Brown Bin  •   11th July: Blue Bin & Green Bin  •   18th July: Black Bin  •   25th July: Brown Bin & Green Bin  August 2023 Collections  •   1st August: Blue Bin  •   8th August: Black Bin & Green Bin  •   15th August: Brown Bin  •   22nd August: Blue Bin & Green Bin  •   29th August: Black Bin  September 2023 Collections  •   5th September: Brown Bin & Green Bin  •   12th September: Blue Bin  •   19th September: Black Bin & Green Bin  •   26th September: Brown Bin  October 2023 Collections  •   3rd October: Blue Bin & Green Bin  •   10th October: Black Bin  •   17th October Brown Bin & Green Bin  •   24th October: Blue Bin  •   31st October: Black Bin & Green Bin  November 2023 Collections  •   7th November: Brown Bin  •   14th November: Blue Bin & Green Bin  •   21st November: Black Bin  •   28th November: Brown Bin & Green Bin  December 2023 Collections  •   5th December: Blue Bin  •   12th December: Black Bin & Green Bin  •   19th December: Brown Bin  •   27th December: Blue Bin (Wednesday)  January 2024 Collections  •   2nd January: Black Bin  •   9th January: Brown Bin & Green Bin  •   16th January: Blue Bin  •   23rd January: Black Bin & Green Bin  •   30th January: Brown Bin  February 2024 Collections  •   6th February: Blue Bin & Green Bin  •   13th February: Black Bin  •   20th February: Brown Bin & Green Bin  •   27th February: Blue Bin  March 2024 Collections  •   5th March: Black Bin & Green Bin  •   12th March: Brown Bin  •   19th March: Blue Bin & Green Bin  •   25th March: Black Bin (Monday)  April 2024 Collections  •   2nd April: Brown Bin & Green Bin  •   9th April: Blue Bin  •   16th April: Black Bin & Green Bin  •   23rd April: Brown Bin  •   30th April: Blue Bin & Green Bin  Recycling calendar July 2023 - June 2025  Your collection day is   TUESDAY  Please ensure that your numbered bins are put at your normal collection point by 6:30am  and returned to your property before the end of your collection day.  Severe weather  If your bin collection has been affected by server weather, please visit  www.wigan.gov.uk/recycling   for details.  Bank holidays and seasonal changes  There are changes to your collections over bank holiday periods. Please refer to your  calendar. Green bin collections over the Christmas period will be suspended to allow us to  prioritise the collection of the other bins. For up to date information on collections, please  visit   www.wigan.gov.uk/recycling  TUEBB' +
	'May 2024 Collections  •   7th May: Black Bin  •   14th May: Brown Bin & Green Bin  •   21st May: Blue Bin  •   28th May: Black Bin & Green Bin  June 2024 Collections  •   4th June: Brown Bin  •   11th June: Blue Bin & Green Bin  •   18th June: Black Bin  •   25th June: Brown Bin & Green Bin  July 2024 Collections  •   2nd July: Blue Bin  •   9th July: Black Bin & Green Bin  •   16th July: Brown Bin  •   23rd July: Blue Bin & Green Bin  •   30th July: Black Bin  August 2024 Collections  •   6th August: Brown Bin & Green Bin  •   13th August: Blue Bin  •   20th August: Black Bin & Green Bin  •   27th August: Brown Bin  September 2024 Collections  •   3rd September: Blue Bin & Green Bin  •   10th September: Black Bin  •   17th September: Brown Bin & Green Bin  •   24th September: Blue Bin  October 2024 Collections  •   1st October: Black Bin & Green Bin  •   8th October: Brown Bin  •   15th October: Blue Bin & Green Bin  •   22nd October: Black Bin  •   29th October: Brown Bin & Green Bin  November 2024 Collections  •   5th November: Blue Bin  •   12th November: Black Bin & Green Bin  •   19th November: Brown Bin  •   26th November: Blue Bin & Green Bin  December 2024 Collections  •   3rd December: Black Bin  •   10th December: Brown Bin & Green Bin  •   17th December: Blue Bin  •   23rd December: Black Bin & Green Bin  (Monday)  •   31st December: Brown Bin  January 2025 Collections  •   7th January: Blue Bin  •   14th January: Black Bin  •   21st January: Brown Bin & Green Bin  •   28th January: Blue Bin  February 2025 Collections  •   4th February: Black Bin & Green Bin  •   11th February: Brown Bin  •   18th February: Blue Bin & Green Bin  •   25th February: Black Bin  March 2025 Collections  •   4th March: Brown Bin & Green Bin  •   11th March: Blue Bin  •   18th March: Black Bin & Green Bin  •   25th March: Brown Bin  April 2025 Collections  •   1st April: Blue Bin & Green Bin  •   8th April: Black Bin  •   14th April: Brown Bin & Green Bin (Monday)  •   22nd March: Blue Bin  •   29th March: Black Bin & Green Bin  May 2025 Collections  •   6th May: Brown Bin  •   13th May: Blue Bin & Green Bin  •   20th May: Black Bin  •   27th May: Brown Bin & Green Bin  June 2025 Collections  •   3rd June: Blue Bin  •   10th June: Black Bin & Green Bin  •   17th June: Brown Bin  •   24th June: Blue Bin & Green Bin';

const some = `
July 2023 Collections
• 4th July: Brown Bin
• 11th July: Blue Bin & Green Bin
• 18th July: Black Bin
• 25th July: Brown Bin & Green Bin
August 2023 Collections
• 1st August: Blue Bin
• 8th August: Black Bin & Green Bin
• 15th August: Brown Bin
• 22nd August: Blue Bin & Green Bin
• 29th August: Black Bin
September 2023 Collections
• 5th September: Brown Bin & Green Bin
• 12th September: Blue Bin
• 19th September: Black Bin & Green Bin
• 26th September: Brown Bin
October 2023 Collections
• 3rd October: Blue Bin & Green Bin
• 10th October: Black Bin
• 17th October Brown Bin & Green Bin
• 24th October: Blue Bin
• 31st October: Black Bin & Green Bin
November 2023 Collections
• 7th November: Brown Bin
• 14th November: Blue Bin & Green Bin
• 21st November: Black Bin
• 28th November: Brown Bin & Green Bin
December 2023 Collections
• 5th December: Blue Bin
• 12th December: Black Bin & Green Bin
• 19th December: Brown Bin
• 27th December: Blue Bin (Wednesday)
January 2024 Collections
• 2nd January: Black Bin
• 9th January: Brown Bin & Green Bin
• 16th January: Blue Bin
• 23rd January: Black Bin & Green Bin
• 30th January: Brown Bin
February 2024 Collections
• 6th February: Blue Bin & Green Bin
• 13th February: Black Bin
• 20th February: Brown Bin & Green Bin
• 27th February: Blue Bin
March 2024 Collections
• 5th March: Black Bin & Green Bin
• 12th March: Brown Bin
• 19th March: Blue Bin & Green Bin
• 25th March: Black Bin (Monday)
April 2024 Collections
• 2nd April: Brown Bin & Green Bin
• 9th April: Blue Bin
• 16th April: Black Bin & Green Bin
• 23rd April: Brown Bin
• 30th April: Blue Bin & Green Bin
Recycling calendar July 2023 - June 2025
Your collection day is TUESDAY
Please ensure that your numbered bins are put at your normal collection point by 6:30am
and returned to your property before the end of your collection day.
Severe weather
If your bin collection has been affected by server weather, please visit
www.wigan.gov.uk/recycling for details.
Bank holidays and seasonal changes
There are changes to your collections over bank holiday periods. Please refer to your
calendar. Green bin collections over the Christmas period will be suspended to allow us to
prioritise the collection of the other bins. For up to date information on collections, please
visit www.wigan.gov.uk/recycling
TUEBB
  `;

export function parse(text: string) {
	const items = text.split('\n');
	let year = 0;
	const parsedData: CollectionType[] = [];

	for (let i = 0; i < items.length; i++) {
		const line = items[i];
		if (line.includes(' Collections')) {
			year = +line.split(' ')[1];
			continue;
		}
		const regex = /(\d{1,2}(st|nd|rd|th) \w+): ([\w\s&]+)(?=\s•|$)/g;
		if (regex.test(line)) {
			const [dateStr, colors] = line.split(': ');
			const colorsArr = colors.split(' & ');
			const date = new Date(
				dateStr.replace(/(st)|(rd)|(th)/g, '') + ' ' + year
			);
			parsedData.push({
				color: colorsArr,
				date,
			});
		}
	}
}
